@import './variables.scss';

.mainMenu {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;

  position: fixed;
  
  @if ($menuVerticalLayout == "top") {
    top: 5px;
  }
  @if ($menuVerticalLayout == "bottom") {
    bottom: 5px;
  }

  @if ($menuHorisontalLayout == "left") {
    left: 5px;
  }
  @if ($menuHorisontalLayout == "right") {
    right: 5px;
  }  

  &--scaled {
    animation: menuScale $menuAnimationTime/2 ease-in-out;
    animation-fill-mode: forwards;
  }

  &--unscaled {
    transform: scale($menuScaleRatio);
    animation: menuUnScale $menuAnimationTime/2 ease-in-out $menuAnimationTime+200ms;
    animation-fill-mode: forwards;
  }

  @keyframes menuScale {
    0% {
      transform: scale(1);
    }

    100% {
      transform: scale($menuScaleRatio);
    }
  }

  @keyframes menuUnScale {
    0% {
      transform: scale($menuScaleRatio);
    }

    100% {
      transform: scale(1);
    }
  }

  &__text {
    position: absolute;

    @if ($menuVerticalLayout == "top") {
      @if ($menuHorisontalLayout == "left") {
        top: 50%;
        right: -10%;
        transform: translate(100%, -5%);
      }
      @if ($menuHorisontalLayout == "right") {
        top: 50%;
        left: -10%;
        transform: translate(-100%, -5%);
      }
    }

    @if ($menuVerticalLayout == "bottom") {
      @if ($menuHorisontalLayout == "left") {
        bottom: 50%;
        right: -10%;
        transform: translate(100%, 5%);
      }
      @if ($menuHorisontalLayout == "right") {
        bottom: 50%;
        left: -10%;
        transform: translate(-100%, 5%);
      }
    }

    box-sizing: border-box;
    padding: 5px;
    background-color: transparent;
    border: 2px solid $colorMainRed;
    border-radius: 3px;
    color: $colorMainBlue;
    font-size: 0.8vw;

    &--visible {
      display: block;
    }

    &--invisible {
      display: none;
    }
  }
}

.menuWrapper {
  position: absolute;
  @if ($menuVerticalLayout == "top") {
    top: 0;
  }
  @if ($menuVerticalLayout == "bottom") {
    bottom: 0;
  }

  @if ($menuHorisontalLayout == "left") {
    left: 0;
  }
  @if ($menuHorisontalLayout == "right") {
    right: 0;
  }

  &--full {
    width: $nemuElementSize * $menuScaleRatio * 1.1;
    height: $nemuElementSize * $menuScaleRatio * 0.866; 
  }

  &--small {
    width: $nemuElementSize;
    height: $nemuElementSize * 0.866; 
  }
}

.hexagonWrapper {
  &__p1, &__p2, &__p3,
  &__p4, &__p5, &__p6,
  &__p7, &__p8, &__p9, &__p10 {
    position: absolute;
    @if ($menuVerticalLayout == "top") {
      top: 0;
    }
    @if ($menuVerticalLayout == "bottom") {
      bottom: 0;
    }
  
    @if ($menuHorisontalLayout == "left") {
      left: 0;
    }
    @if ($menuHorisontalLayout == "right") {
      right: 0;
    }  
    box-sizing: border-box;

    perspective: 150px;
    transform-style: preserve-3d;
  }

  &__p1 {
    transform: translate(0, 0);
  }

  &__p2 {
    @if ($menuHorisontalLayout == "left") {
      transform: translateX(155%);
    }
    @if ($menuHorisontalLayout == "right") {
      transform: translateX(-155%);
    }  
  }

  &__p3 {
    @if ($menuVerticalLayout == "top") {
      @if ($menuHorisontalLayout == "left") {
        transform: translate(77.5%, 52.5%);
      }
      @if ($menuHorisontalLayout == "right") {
        transform: translate(-77.5%, 52.5%);
      }
    }

    @if ($menuVerticalLayout == "bottom") {
      @if ($menuHorisontalLayout == "left") {
        transform: translate(77.5%, -52.5%);
      }
      @if ($menuHorisontalLayout == "right") {
        transform: translate(-77.5%, -52.5%);
      }
    }
  }

  &__p4 {
    @if ($menuVerticalLayout == "top") {
      @if ($menuHorisontalLayout == "left") {
        transform: translate(232.5%, 52.5%);
      }
      @if ($menuHorisontalLayout == "right") {
        transform: translate(-232.5%, 52.5%);
      }
    }

    @if ($menuVerticalLayout == "bottom") {
      @if ($menuHorisontalLayout == "left") {
        transform: translate(232.5%, -52.5%);
      }
      @if ($menuHorisontalLayout == "right") {
        transform: translate(-232.5%, -52.5%);
      }
    }
  }

  &__p5 {
    @if ($menuVerticalLayout == "top") {
      transform: translateY(102.5%);
    }

    @if ($menuVerticalLayout == "bottom") {
      transform: translateY(-102.5%);
    }
  }
  
  &__p6 {
    @if ($menuVerticalLayout == "top") {
      @if ($menuHorisontalLayout == "left") {
        transform: translate(155%, 102.5%);
      }
      @if ($menuHorisontalLayout == "right") {
        transform: translate(-155%, 102.5%);
      }
    }

    @if ($menuVerticalLayout == "bottom") {
      @if ($menuHorisontalLayout == "left") {
        transform: translate(155%, -102.5%);
      }
      @if ($menuHorisontalLayout == "right") {
        transform: translate(-155%, -102.5%);
      }
    }
  }

  &__p7 {
    @if ($menuVerticalLayout == "top") {
      @if ($menuHorisontalLayout == "left") {
        transform: translate(77.5%, 155%);
      }
      @if ($menuHorisontalLayout == "right") {
        transform: translate(-77.5%, 155%);
      }
    }

    @if ($menuVerticalLayout == "bottom") {
      @if ($menuHorisontalLayout == "left") {
        transform: translate(77.5%, -155%);
      }
      @if ($menuHorisontalLayout == "right") {
        transform: translate(-77.5%, -155%);
      }
    }
  }

  &__p8 {
    @if ($menuVerticalLayout == "top") {
      @if ($menuHorisontalLayout == "left") {
        transform: translate(232.5%, 155%);
      }
      @if ($menuHorisontalLayout == "right") {
        transform: translate(-232.5%, 155%);
      }
    }

    @if ($menuVerticalLayout == "bottom") {
      @if ($menuHorisontalLayout == "left") {
        transform: translate(232.5%, -155%);
      }
      @if ($menuHorisontalLayout == "right") {
        transform: translate(-232.5%, -155%);
      }
    }
  }

  &__p9 {
    @if ($menuVerticalLayout == "top") {
      transform: translateY(205%);
    }

    @if ($menuVerticalLayout == "bottom") {
      transform: translateY(-205%);
    }
  }

  &__p10 {
    @if ($menuVerticalLayout == "top") {
      @if ($menuHorisontalLayout == "left") {
        transform: translate(155%, 205%);
      }
      @if ($menuHorisontalLayout == "right") {
        transform: translate(-155%, 205%);
      }
    }

    @if ($menuVerticalLayout == "bottom") {
      @if ($menuHorisontalLayout == "left") {
        transform: translate(155%, -205%);
      }
      @if ($menuHorisontalLayout == "right") {
        transform: translate(-155%, -205%);
      }
    }
  }
}

.hexagon {
  clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
  box-sizing: border-box;
  background-color: $colorMainBlue;
  display: flex;
  justify-content: center;
  align-items: center;

  transition: $menuAnimationTime/2 ease;

  &--add {
    clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #ffffff;
    width: $nemuElementSize * 0.94;
    height: $nemuElementSize * 0.866 * 0.94;

    display: flex;
    justify-content: center;
    align-items: center;
  }

  &:hover {
    background-color: $colorMainRed;
  }

  &__picture {
    width: $nemuElementSize * 0.55;
    height: auto;
  }

  &__show {
    opacity: 0;
    width: $nemuElementSize;
    height: $nemuElementSize * 0.866;
    animation: hexagonAppear $menuAnimationTime ease-in-out;
    animation-fill-mode: forwards;
  }

  &__hide {
    opacity: 1;
    width: $nemuElementSize;
    height: $nemuElementSize * 0.866;
    animation: hexagonDisappear $menuAnimationTime*0.8 ease-in-out;
    animation-fill-mode: forwards;
  }

  @keyframes hexagonAppear {
    0% {
      opacity: 0;
      transform: rotate3d(1, 1, 0, 90deg);
    }

    30% {
      opacity: 0.3;
      transform: rotate3d(1, 1, 0, 90deg);
    }

    100% {
      opacity: 1;
      transform: none;
    }
  }

  @keyframes hexagonDisappear {
    0% {
      width: $nemuElementSize;
      height: $nemuElementSize * 0.866;
      opacity: 1;
      transform: none;
    }

    99% {
      width: $nemuElementSize;
      height: $nemuElementSize * 0.866;
      opacity: 0;
      transform: rotate3d(1, 1, 0, 90deg);
    }

    100% {
      width: 1px;
      height: 1px;
      opacity: 0;
      transform: rotate3d(1, 1, 0, 90deg);
    }
  }
}


@for $i from 1 to 11 {
  .delay#{$i} {
    animation-delay: $i * $menuAnimationTime / 10;
  }
}

